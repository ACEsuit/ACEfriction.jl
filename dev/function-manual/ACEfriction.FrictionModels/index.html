<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>ACEfriction.FrictionModels · ACEfriction.jl</title><meta name="title" content="ACEfriction.FrictionModels · ACEfriction.jl"/><meta property="og:title" content="ACEfriction.FrictionModels · ACEfriction.jl"/><meta property="twitter:title" content="ACEfriction.FrictionModels · ACEfriction.jl"/><meta name="description" content="Documentation for ACEfriction.jl."/><meta property="og:description" content="Documentation for ACEfriction.jl."/><meta property="twitter:description" content="Documentation for ACEfriction.jl."/><meta property="og:url" content="https://ACEsuit.github.io/ACEfriction.jl/function-manual/ACEfriction.FrictionModels/"/><meta property="twitter:url" content="https://ACEsuit.github.io/ACEfriction.jl/function-manual/ACEfriction.FrictionModels/"/><link rel="canonical" href="https://ACEsuit.github.io/ACEfriction.jl/function-manual/ACEfriction.FrictionModels/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="ACEfriction.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">ACEfriction.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../installation/">Installation Guide</a></li><li><a class="tocitem" href="../../overview/">Overview</a></li></ul></li><li><span class="tocitem">Workflow Examples</span><ul><li><a class="tocitem" href="../../fitting-eft/">Fitting an Electronic Friction Tensor</a></li><li><a class="tocitem" href="../../fitting-mbdpd/">Fitting a Dissipative Particle Dynamics Friction Model</a></li></ul></li><li><span class="tocitem">Function Manual</span><ul><li class="is-active"><a class="tocitem" href>ACEfriction.FrictionModels</a></li><li><a class="tocitem" href="../ACEfriction.MatrixModels/">ACEfriction.MatrixModels</a></li><li><a class="tocitem" href="../ACEfriction.FrictionFit/">ACEfriction.FrictionFit</a></li><li><a class="tocitem" href="../ACEfriction.DataUtils/">ACEfriction.DataUtils</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Function Manual</a></li><li class="is-active"><a href>ACEfriction.FrictionModels</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>ACEfriction.FrictionModels</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ACEsuit/ACEfriction.jl/blob/main/docs/src/function-manual/ACEfriction.FrictionModels.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>A friction model is a wrapper around a named tuple of matrix models, i.e. </p><pre><code class="language-julia hljs">struct FrictionModel{MODEL_IDS} &lt;: AbstractFrictionModel
    matrixmodels::NamedTuple{MODEL_IDS} 
end</code></pre><p>The symbols contained in the tuple <code>MODEL_IDS</code> are referred to as &quot;IDs&quot; of the corresponding matrix models. When evaluated at an atomic configuration, the resulting friction tensor is the sum of the friction tensors of all matrix models in the friction model, whereas diffusion coefficient matrices are evaluated seperately for each matrix model and returned in the form of a named tuple of the same signature. The following functions act on structures of type <code>FrictionModel</code>: </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACEfriction.FrictionModels.Gamma" href="#ACEfriction.FrictionModels.Gamma"><code>ACEfriction.FrictionModels.Gamma</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Gamma(fm::FrictionModel, at::Atoms; filter=(_,_)-&gt;true, T=Float64)</code></pre><p>Evaluates the friction tensor according to the friction model <code>fm</code> at the atomic configuration <code>at::Atoms</code>. The friction tensor is the sum of the friction tensors of all matrix models in <code>fm.matrixmodels</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>fm</code> – the friction model of which the friction tensor is evaluated.</li><li><code>at</code> – the atomic configuration at which the basis is evaluated</li><li><code>filter</code>  – (optional, default: <code>(_,_)-&gt;true</code>) a filter function of the generic form <code>(i::Int,at::Atoms) -&gt; Bool</code>. Only atoms <code>at[i]</code> for which <code>filter(i,at)</code> returns <code>true</code> are included in the evaluation of the friction tensor.  </li></ul><p><strong>Output:</strong></p><p>A friction tensor in the form of a sparse 3N x 3N matrix, where N is the number of atoms in the atomic configuration <code>at</code>.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L46-L61">source</a></section><section><div><pre><code class="language-julia hljs">Gamma(fm::FrictionModel{MODEL_IDS}, Σ_vec::NamedTuple{MODEL_IDS}) where {MODEL_IDS}</code></pre><p>Computes the friction tensor from a pre-computed collection of diffusion coefficient matrices.  The friction tensor is the sum of the squares of all diffusion coefficient matrices in the collection.</p><p><strong>Arguments:</strong></p><ul><li><code>fm</code> – the friction model of which the friction tensor is evaluated. The friction tensor is the sum of the friction tensors of all matrix models in <code>fm.matrixmodels</code>.</li><li><code>Σ</code> – a collection of diffusion coefficient matrices. The friction tensor is the sum of the squares of all matrices in <code>Σ</code>.</li></ul><p><strong>Output:</strong></p><p>A friction tensor in the form of a sparse 3N x 3N matrix, where N is the number of atoms in the atomic configuration <code>at</code>.  The friction tensor is the sum of the symmetric squares <span>$\Sigma\Sigma^T$</span> of all diffusion coefficient matrices <span>$\Sigma$</span> in <code>Σ_vec</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L66-L79">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACEfriction.FrictionModels.Sigma" href="#ACEfriction.FrictionModels.Sigma"><code>ACEfriction.FrictionModels.Sigma</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Sigma(fm::FrictionModel{MODEL_IDS}, at::Atoms; filter=(_,_)-&gt;true, T=Float64) where {MODEL_IDS}</code></pre><p>Computes the diffusion coefficient matrices for all matrix models in the friction model at a given configuration.</p><p><strong>Arguments:</strong></p><ul><li><code>fm</code> – the friction model of which the diffusion coefficient matrices are evaluated</li><li><code>at</code> – the atomic configuration at which the diffusion coefficient matrices are evaluated</li><li><code>filter</code>  – (optional, default: <code>(_,_)-&gt;true</code>) a filter function of the generic form <code>(i::Int,at::Atoms) -&gt; Bool</code>. Only atoms <code>at[i]</code> for which <code>filter(i,at)</code> returns <code>true</code> are included in the evaluation of the diffusion coefficient matrices.</li></ul><p><strong>Output:</strong></p><p>A NamedTuple of diffusion coefficient matrices, where the keys are the IDs of the matrix models in the friction model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L102-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACEfriction.MatrixModels.randf" href="#ACEfriction.MatrixModels.randf"><code>ACEfriction.MatrixModels.randf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">randf(fm::FrictionModel{MODEL_IDS}, Σ::NamedTuple{MODEL_IDS}) where {MODEL_IDS}</code></pre><p>Generates a <span>${\rm Normal}({\bm 0}, {\bm \Gamma})$</span>-distributed Gaussian pseudo random number from a precomputed diffusion coeffiient matrices.</p><p><strong>Arguments:</strong></p><ul><li><code>fm</code> – the friction model of which the friction tensor is evaluated. The friction tensor is the sum of the friction tensors of all matrix models in <code>fm.matrixmodels</code>.</li><li><code>Σ</code> – a collection of diffusion coefficient matrices. The friction tensor is the sum of the squares of all matrices in <code>Σ</code>.</li></ul><p><strong>Output:</strong></p><p>A <span>${\rm Normal}({\bm 0}, {\bm \Gamma})$</span>-distributed Gaussian vector <code>R::Vector{3,Float64}</code> of length N, where N is the number of atoms in the configuration for which <code>Σ</code> was evaluated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L85-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACEfriction.MatrixModels.basis" href="#ACEfriction.MatrixModels.basis"><code>ACEfriction.MatrixModels.basis</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">basis(fm::FrictionModel{MODEL_IDS}, at::Atoms; join_sites=false, filter=(_,_)-&gt;true, T=Float64) where {MODEL_IDS}</code></pre><p>Evaluates the ACE-basis functions of the friction model <code>fm</code> at the atomic configuration <code>at::Atoms</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>fm</code> – the friction model of which the basis is evaluated</li><li><code>at</code> – the atomic configuration at which the basis is evaluated</li><li><code>join_sites</code> – (optional, default: <code>false</code>) if <code>true</code>, the basis evaulations of all matrix models are concatenated into a single array. If <code>false</code>, the basis evaluations are returned as a named tuple of the type <code>NamedTuple{MODEL_IDS}</code>.</li><li><code>filter</code>  – (optional, default: <code>(_,_)-&gt;true</code>) a filter function of the generic form <code>(i::Int,at::Atoms) -&gt; Bool</code>. The atom <code>at[i]</code> will be included in the basis iff <code>filter(i,at)</code> returns <code>true</code>.  </li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L122-L133">source</a></section></article><h3 id="Setter-and-getter-functions-for-model-parameters"><a class="docs-heading-anchor" href="#Setter-and-getter-functions-for-model-parameters">Setter and getter functions for model parameters</a><a id="Setter-and-getter-functions-for-model-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Setter-and-getter-functions-for-model-parameters" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACE.params" href="#ACE.params"><code>ACE.params</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">params(fm::FrictionModel{MODEL_IDS}) where {MODEL_IDS}</code></pre><p>Returns the parameters of all matrix models in the FrictionModel object as a NamedTuple.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L149-L153">source</a></section><section><div><pre><code class="language-julia hljs">params(m::FluxFrictionModel; transformed=true)</code></pre><p>Return the parameters of the model <code>m</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionfit/fluxmodels.jl#L190-L194">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACE.nparams" href="#ACE.nparams"><code>ACE.nparams</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">nparams(fm::FrictionModel{MODEL_IDS}) where {MODEL_IDS}</code></pre><p>Returns the total number of scalar parameters of all matrix models in the FrictionModel object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L159-L163">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACE.set_params!" href="#ACE.set_params!"><code>ACE.set_params!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_params!(fm::FrictionModel, θ::NamedTuple)</code></pre><p>Sets the parameters of all matrix models in the FrictionModel object whose ID is contained in <code>θ::NamedTuple</code> to the values specified therein.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L168-L172">source</a></section><section><div><pre><code class="language-julia hljs">set_params!(m::FluxFrictionModel; sigma=1E-8, model_ids::Array{Symbol}=Symbol[])</code></pre><p>Randomizes the parameters of the model <code>m</code>.</p><p><strong>Arguments</strong></p><ul><li><code>m::FluxFrictionModel</code>: The model to set the parameters of.</li><li><code>sigma::Float64=1E-8</code>: The standard deviation of the random values.</li><li><code>model_ids::Array{Symbol}=[]</code>: The ids of the models to set the parameters of. If empty, all the parameters are set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionfit/fluxmodels.jl#L142-L151">source</a></section><section><div><pre><code class="language-julia hljs">set_params!(m::FluxFrictionModel, c_new::NamedTuple)</code></pre><p>Set the parameters of the model to the values in <code>c_new</code>.</p><p><strong>Arguments</strong></p><ul><li><code>m::FluxFrictionModel</code>: The model to set the parameters of.</li><li><code>c_new::NamedTuple</code>: The new parameters.  The keys of <code>c_new</code> should be a subset of <code>m.model_ids</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionfit/fluxmodels.jl#L162-L170">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ACEfriction.MatrixModels.set_zero!" href="#ACEfriction.MatrixModels.set_zero!"><code>ACEfriction.MatrixModels.set_zero!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_zero!(fm::FrictionModel, model_ids)</code></pre><p>Sets the parameters of all matrix models in the FrictionModel object to zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ACEsuit/ACEfriction.jl/blob/66777c1bb0fb73f5d9df521a90e3a4cbaad87de8/src/frictionmodels.jl#L36-L40">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../fitting-mbdpd/">« Fitting a Dissipative Particle Dynamics Friction Model</a><a class="docs-footer-nextpage" href="../ACEfriction.MatrixModels/">ACEfriction.MatrixModels »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Friday 14 March 2025 13:20">Friday 14 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
